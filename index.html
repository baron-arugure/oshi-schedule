<!DOCTYPE html>
<html lang="ja">
<head>
   <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:title" content="5æœŸç”Ÿã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | Weekly 5th Calendar">
<meta property="og:description" content="ãƒã‚³ãƒã‚¯ãƒˆ 5æœŸç”ŸãŸã¡ã®ä»Šé€±ã®é…ä¿¡äºˆå®šã‚’ç¢ºèªã§ãã¾ã™ï¼">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="5æœŸç”Ÿã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | Weekly 5th Calendar">
<meta name="twitter:description" content="ãƒã‚³ãƒã‚¯ãƒˆ 5æœŸç”ŸãŸã¡ã®ä»Šé€±ã®é…ä¿¡äºˆå®šã‚’ç¢ºèªã§ãã¾ã™ï¼">
<meta name="twitter:image" content="https://baron-arugure.github.io/oshi-schedule/preview.png">
  <title>5æœŸç”Ÿã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | Weekly 5th Calendar</title>
  <style>
    :root {
      --pink-light: #fff0f6;
      --pink-main: #ffc0cb;
      --pink-dark: #ff77aa;
      --font-main: "Yu Gothic", "Hiragino Kaku Gothic ProN", sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: var(--font-main);
      background: linear-gradient(to bottom, #fff6f9, #ffeef5);
      color: #333;
    }

    #loading {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(90deg, #ffeef5, #fff6fa);
      z-index: 1000;
      animation: pulseBg 2s infinite;
      flex-direction: column;
    }

    .loader-message {
      font-size: 1.8rem;
      font-weight: bold;
      color: #d24074;
      animation: runBounce 0.8s ease-in-out infinite alternate;
    }

    @keyframes pulseBg {
      0%, 100% { background-color: #fff6fa; }
      50% { background-color: #ffeef5; }
    }

    @keyframes runBounce {
      0% { transform: translateY(0px); }
      100% { transform: translateY(-6px); }
    }

    header {
      background: linear-gradient(45deg, var(--pink-dark), var(--pink-main));
      color: white;
      text-align: center;
      padding: 2rem 1rem;
      box-shadow: 0 4px 12px rgba(255, 119, 170, 0.3);
    }

    header h1 {
      margin: 0;
      font-size: 2.4rem;
      letter-spacing: 1px;
    }

    .container {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 0 1rem;
      overflow-x: auto;
    }

    h2 {
      text-align: center;
      font-size: 1.4rem;
      color: #d24074;
      margin-bottom: 1rem;
    }

    .tableWrapper{
    }

    table {
      width: 100%;
      border-collapse: collapse;
      border-radius: 18px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(6px);
      box-shadow: 0 8px 24px rgba(255, 119, 170, 0.15);
      min-width: 720px;
      margin-bottom: 2.5rem;
    }

    th, td {
      padding: 1.1em 0.6em;
      text-align: center;
      min-width: 90px;
      font-size: 1rem;
      transition: all 0.2s ease;
    }

    th {
      background: linear-gradient(45deg, #ffe6f0, #ffd8eb);
      color: #d24074;
      font-weight: bold;
      border-bottom: 3px solid var(--pink-dark);
      text-shadow: 0 1px 0 #fff;
      top: 0;
      z-index: 3;
    }

    th:first-child,
    td:first-child {
      left: 0;
      z-index: 2;
    }

    td:first-child:not(.oshi-row) {
      background: #fff0f5;
    }

    td:not(.oshi-row):hover {
      background: #fff0f6;
      transform: scale(1.03);
      z-index: 1;
      box-shadow: 0 2px 6px rgba(255, 119, 170, 0.1);
    }

    .oshi-row {
      font-weight: bold;
      color: white;
      position: sticky;
      top: 0;
      left: 0;
      z-index: 3; 
      background: white; 
    }

    .oshi-row::before{
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

     .oshi-header-title{
      position: sticky;
      top: 0;
      left: 0;
    }

    .oshi-header-title::before{
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .green { background: linear-gradient(90deg, #a8e063, #56ab2f); }
    .blue { background: linear-gradient(90deg, #56ccf2, #2f80ed); }
    .aqua { background: linear-gradient(90deg, #76e4f7, #00c9d4); }
    .yellow { background: linear-gradient(90deg, #fddb92, #fce473); color: #222; }
    .red { background: linear-gradient(90deg, #ff758c, #ff7eb3); }
    .white { background: #f7f7f7; color: #444; }

    .uncertain {
      background: repeating-linear-gradient(45deg, #ffeef0, #ffeef0 5px, #fff7f9 5px, #fff7f9 10px);
      font-style: italic;
      border: 1px dashed #ff99bb;
      border-radius: 8px;
      color: #d24074;
      font-size: 0.95em;
      padding: 0.3em;
    }

    .button-group {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
      margin-bottom: 2rem;
    }

    .link-button {
      display: inline-block;
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 999px;
      text-decoration: none;
      font-weight: bold;
      background: rgba(255,255,255,0.2);
      backdrop-filter: blur(10px);
      transition: all 0.2s ease-in-out;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .link-button.green { background: linear-gradient(90deg, #a8e063, #56ab2f); }
    .link-button.blue { background: linear-gradient(90deg, #56ccf2, #2f80ed); }
    .link-button.white { background: #f1f1f1; color: #444; }
    .link-button.aqua { background: linear-gradient(90deg, #76e4f7, #00c9d4); }
    .link-button.yellow { background: linear-gradient(90deg, #fddb92, #fce473); color: #222; }
    .link-button.red { background: linear-gradient(90deg, #ff758c, #ff7eb3); }

    .link-button:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    }

    .tweet-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1rem;
    }

    .tweet-card {
      background: #1a1a1a;
      color: #ffffff;
      border-radius: 1.5rem;
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
      padding: 1rem;
      text-align: center;
      font-weight: bold;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .tweet-card:hover {
      transform: scale(1.02);
      box-shadow: 0 10px 16px rgba(0,0,0,0.3);
    }

    .tweet-card a {
      color: #ffffff;
      text-decoration: underline;
    }

    .tweet-card a:hover {
      color: #1d9bf0;
    }

    footer {
      text-align: center;
      font-size: 0.85rem;
      color: #888;
      margin-top: 3rem;
      padding-bottom: 2rem;
    }
  </style>
</head>

<body>

  <div id="loading">
  <div class="loader-message">ã¡ã‚‡ã£ã¨ã¾ã£ã¦ã¦ã­ï¼</div>
</div>

  <header>
    <h1>ğŸ—“ï¸ 5æœŸç”Ÿã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | Weekly 5th Calendar</h1>
  </header>
  <div class="container">
    <h2>ğŸ“† ä»Šé€±ã®æ¨ã—é…ä¿¡äºˆå®š</h2>
  <div class = "tableWrapper">
    <table>
  <thead>
    <tr>
      <th class = "oshi-header-title">5æœŸç”Ÿ</th>
      <th>æœˆ</th>
      <th>ç«</th>
      <th>æ°´</th>
      <th>æœ¨</th>
      <th>é‡‘</th>
      <th>åœŸ</th>
      <th>æ—¥</th>
    </tr>
  </thead>
  <tbody>
<tr>
  <td class="oshi-row green">ç¿ æ£®ã‚¢ãƒˆãƒª</td>
  <td><span id="suiMon"></span></td><td><span id="suiTue"></span></td><td><span id="suiWed"></span></td><td><span id="suiThu"></span></td><td><span id="suiFri"></span></td><td><span id="suiSat"></span></td><td><span id="suiSun"></span></td>
</tr>
<tr>
  <td class="oshi-row blue">é›«å·ãªã®ã‹</td>
  <td><span id="sizuMon"></span></td><td><span id="sizuTue"></span></td><td><span id="sizuWed"></span></td><td><span id="sizuThu"></span></td><td><span id="sizuFri"></span></td><td><span id="sizuSat"></span></td><td><span id="sizuSun"></span></td>
</tr>
<tr>
  <td class="oshi-row white">ç™½ç†Šæ±°ã¹ã‚‹</td>
  <td><span id="siroMon"></span></td><td><span id="siroTue"></span></td><td><span id="siroWed"></span></td><td><span id="siroThu"></span></td><td><span id="siroFri"></span></td><td><span id="siroSat"></span></td><td><span id="siroSun"></span></td>
</tr>
<tr>
  <td class="oshi-row aqua">ã‚‚ãµã‚„ã¾ãã‚‰ã‚‰</td>
  <td><span id="mohuMon"></span></td><td><span id="mohuTue"></span></td><td><span id="mohuWed"></span></td><td><span id="mohuThu"></span></td><td><span id="mohuFri"></span></td><td><span id="mohuSat"></span></td><td><span id="mohuSun"></span></td>
</tr>
<tr>
  <td class="oshi-row yellow">ã¡ã‚ƒã¾ã“</td>
  <td><span id="chaMon"></span></td><td><span id="chaTue"></span></td><td><span id="chaWed"></span></td><td><span id="chaThu"></span></td><td><span id="chaFri"></span></td><td><span id="chaSat"></span></td><td><span id="chaSun"></span></td>
</tr>
<tr>
  <td class="oshi-row red">å¯å¤¢æœˆã‚ãŠ</td>
  <td><span id="uyuMon"></span></td><td><span id="uyuTue"></span></td><td><span id="uyuWed"></span></td><td><span id="uyuThu"></span></td><td><span id="uyuFri"></span></td><td><span id="uyuSat"></span></td><td><span id="uyuSun"></span></td>
</tr>

  </tbody>
  
</table>
</div>
<div class="button-group">
  <a href="https://youtube.com/@suimoriatori" target="_blank" class="link-button green">ç¿ æ£®ã‚¢ãƒˆãƒª</a>
  <a href="https://youtube.com/@nanokach" target="_blank" class="link-button blue">é›«å·ãªã®ã‹</a>
  <a href="https://youtube.com/@shirokumataberu" target="_blank" class="link-button white">ç™½ç†Šæ±°ã¹ã‚‹</a>
  <a href="https://youtube.com/@mofuyamasoraravt" target="_blank" class="link-button aqua">ã‚‚ãµã‚„ã¾ãã‚‰ã‚‰</a>
  <a href="https://youtube.com/@chamakovt" target="_blank" class="link-button yellow">ã¡ã‚ƒã¾ã“</a>
  <a href="https://youtube.com/@uyuzukimeo" target="_blank" class="link-button red">å¯å¤¢æœˆã‚ãŠ</a>
</div>

<section class="tweet-grid">
  <div class="tweet-card">
    <a class="twitter-timeline"
       data-height="500"
       data-theme="light"
       href="https://x.com/SuimoriAtori">
       Tweets by @suimoriatori
    </a>
  </div>
  <div class="tweet-card">
    <a class="twitter-timeline"
       data-height="500"
       data-theme="light"
       href="https://twitter.com/ShizukawaNanoka">
       Tweets by @ShizukawaNanoka
    </a>
  </div>
  <div class="tweet-card">
    <a class="twitter-timeline"
       data-height="500"
       data-theme="light"
       href="https://x.com/beruVT">
       Tweets by @beruVT
    </a>
  </div>
  <div class="tweet-card">
    <a class="twitter-timeline"
       data-height="500"
       data-theme="light"
       href="https://x.com/mofuyamasorara">
       Tweets by @mofuyamasorara
    </a>
  </div>
  <div class="tweet-card">
    <a class="twitter-timeline"
       data-height="500"
       data-theme="light"
       href="https://x.com/chamakoVT">
       Tweets by @chamakoVT
    </a>
  </div>
  <div class="tweet-card">
    <a class="twitter-timeline"
       data-height="500"
       data-theme="light"
       href="https://x.com/uyuzukimeo">
       Tweets by @uyuzukimeo
    </a>
  </div>
</section>

<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script>
  //æ™‚é–“ã‚’å«ã‚€ã‹ã©ã†ã‹ã®æ­£è¦è¡¨ç¾
  function getTimeInTitle(text){
    const TimeRule = /[0,1,2,3,4,5,6,7,8,9]+:[0,1,2,3,4,5,6,7,8,9]{2}?/
    if(text.match(TimeRule)){
      return text.match(TimeRule)[0]
    }
    return null
  }
  //ã‚¢ã‚¤ã‚³ãƒ³ã¤ã‘ã¨é•·ã„å ´åˆã¯...ã§çœç•¥
  function parseContent(content) {
    if (!content) return "";
    const rules = [
      { word: "é›‘è«‡", icon: "ğŸ—¨ï¸" },
      { word: "æ­Œ", icon: "ğŸ¤" },
      { word: "ä½œæ¥­", icon: "ğŸ§ª" },
      { word: "ã‚³ãƒ©ãƒœ", icon: "ğŸ‘¥" },
      { word: "ASMR", icon: "ğŸ’¤" },
      { word: "ãƒãƒ­", icon: "ğŸ—¨ï¸" },
      { word: "ã‚²ãƒ¼ãƒ ", icon: "ğŸ®" }
    ];
    let icons = ""
    rules.forEach((rule) =>{
      if(content.includes(rule.word)){
        icons += rule.icon
      }
    })
    if(icons === ""){
      icons = "â“" 
    }
    if(getTimeInTitle(content)){
      return icons + getTimeInTitle(content);
    }
    return icons + textFormater(content);
  }
  //...çœç•¥ã™ã‚‹ãŸã‚ã®é–¢æ•°
  function textFormater(text){
    const MAX_LENGTH = 4
    if(text.length < MAX_LENGTH){
      return text
    }
    return text.slice(0,MAX_LENGTH-1) + "..."
  }
  //èª­ã¿è¾¼ã‚“ã ã¨ãã«APIã‚’èµ°ã‚‰ã›ã¦ã‚·ãƒ¼ãƒˆã‹ã‚‰æƒ…å ±ã‚’æŒã£ã¦ãã‚‹
  window.addEventListener("DOMContentLoaded", () => {
    const loading = document.getElementById("loading");
    if(window.outerWidth <1100){
      document.getElementsByClassName("tableWrapper")[0].style.overflowX = "scroll";
    }
    fetch("https://script.google.com/macros/s/AKfycbyC_efPMSDoPsrvDlXnVuglZkVR1FkbH3PMR617ZyKHiGOXnBuVxA54KdQYssA_QuisDg/exec")
      .then(response => response.json())
      .then(data => {
        streamPlanData = data;
        //æ–‡å­—åˆ—ã®çµ„ã¿åˆã‚ã›ã§Idã‚’ä½œæˆã—ã€è©²å½“ã®å†…å®¹ã‚’å…¥ã‚Œè¾¼ã‚€
        const members = ["sui","sizu","siro","mohu","cha","uyu"];
        const days = ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];
        for (let m = 0; m < members.length; m++) {
          for (let d = 0; d < days.length; d++) {
            const cellId = members[m] + days[d];
            const target = document.getElementById(cellId);
            if (target) {
              //å†…å®¹ãŒãªã‘ã‚Œã°innerHTMLã«ä½•ã‚‚å…¥ã‚ŒãŸããªã„
              if(data[m][days[d]]){
                data[m][days[d]] = data[m][days[d]].replace(/</g, "&lt;").replace(/>/g, "&gt;");
                //æ™‚åˆ»è¡¨ç¾ãŒãªã„ã¨ã
                if(!getTimeInTitle(data[m][days[d]] || "")){
                  document.getElementById(cellId).classList.add("uncertain");
                }
                target.innerHTML = parseContent(data[m][days[d]] ?? "");
              }
              //ãƒã‚¦ã‚¹ãƒ›ãƒãƒ¼æ™‚ã«è©³ç´°ã‚’è¡¨ç¤º
              target.addEventListener('mouseover', () => {
                target.innerHTML = data[m][days[d]];
              }, false);
              //é›¢ã—ãŸã‚‰ã‚‚ã¨ã«æˆ»ã™
              target.addEventListener('mouseleave', () => {
                target.innerHTML = parseContent(data[m][days[d]] ?? "");
              }, false);
            }
          }
        }
      })
      .catch(error => {
        console.error("ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:", error);
        loading.innerHTML = `<div class="loader-message">èª­ã¿è¾¼ã¿å¤±æ•—ãªã®â€¦â€¦ğŸ˜¢</div>`;
      })
      //ã¡ã‚‡ã£ã¨å¾…ã£ã¦ã­ã‚’é€æ˜ã«ã—ã€ã—ã°ã‚‰ããŸã£ãŸã‚‰å‰Šé™¤
      .finally(() => {
        loading.style.opacity = "0";
        setTimeout(() => loading.style.display = "none", 400);
      });
  });
</script>
  </div>
</body>
</html>